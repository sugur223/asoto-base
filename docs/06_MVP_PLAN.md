# MVP実装計画（暫定版）

## 実装方針

**MVP期間**: 0-3ヶ月（目標：〜50ユーザー）
**目標**: 最小限の機能で「あそとの価値」を体験できる状態を作る

## Phase 1: MVP Core（最優先）

### 1. 認証・基本機能 ✅ (実装済み)
- [x] ユーザー登録・ログイン（簡易JWT認証）
- [x] プロフィール基本情報

### 2. あそとステップ管理（簡易版）
**優先度: 最高**

#### 実装範囲
- [ ] 目標作成（カスタム目標のみ）
  - タイトル、説明、カテゴリ（関係性/多動性/感受性）、期限
- [ ] ステップ管理
  - ステップ追加・編集・削除
  - ステップ完了（チェックマーク）
  - 進捗率表示（プログレスバー）
- [ ] 目標一覧・詳細表示
- [ ] 基本的なポイント付与
  - ステップ完了: 10pt
  - 目標達成: 50pt

#### 後回し（Phase 2以降）
- テンプレート機能
- AIステップ提案
- ゲーミフィケーション要素（バッジ、ストリーク）
- 通知機能

### 3. 内省ログ（簡易版）
**優先度: 高**

#### 実装範囲
- [ ] ログ作成（フリーフォームのみ）
  - タイトル、本文（Markdown）
  - タグ
  - 公開/非公開設定
- [ ] ログ一覧・詳細表示
- [ ] ログ検索（タグフィルタ、キーワード検索）
- [ ] 基本的なポイント付与
  - ログ投稿: 5pt

#### 後回し（Phase 2以降）
- テンプレート機能
- AIフィードバック
- コメント機能
- カレンダービュー
- 統計ビュー

### 4. イベント管理（基本版）
**優先度: 高**

#### 実装範囲
- [ ] イベント作成
  - タイトル、説明、日時、場所（オンライン/オフライン）
  - 定員設定
  - タグ
- [ ] イベント一覧・詳細表示
- [ ] イベント参加申込
- [ ] 参加者リスト表示
- [ ] 基本的なポイント付与
  - イベント参加: 10pt
  - イベント主催: 50pt

#### 後回し（Phase 2以降）
- カレンダービュー
- 承認制
- チェックイン機能
- リマインダー通知
- イベント後の振り返り促進

### 5. ダッシュボード（シンプル版）
**優先度: 中**

#### 実装範囲
- [ ] 個人エリア
  - 進行中の目標（最大3件）
  - 最近のログ（最大3件）
  - 獲得ポイント表示
- [ ] コミュニティエリア
  - 今後のイベント（最大5件）
  - 最近の公開ログ（最大5件）

#### 後回し（Phase 2以降）
- あそと3要素のレーダーチャート
- おすすめアクション提案
- カスタマイズ機能

### 6. プロフィール（基本版）
**優先度: 中**

#### 実装範囲
- [ ] 基本情報編集
  - 名前、アイコン、自己紹介
  - スキルタグ（複数選択）
  - 興味・関心タグ（複数選択）
- [ ] 活動履歴表示
  - 参加イベント一覧
  - 獲得ポイント

#### 後回し（Phase 2以降）
- SNSリンク
- 獲得バッジ表示
- 公開設定（細かい粒度）

### 7. プロジェクト管理（基本版）
**優先度: 高**

#### 実装範囲
- [ ] プロジェクト作成
  - タイトル、説明、カテゴリ（あそび/あそと）
  - 期間、活動頻度、場所
  - タグ
  - メンバー募集設定
- [ ] プロジェクト一覧・詳細表示
- [ ] メンバー募集・参加リクエスト
- [ ] 基本的なタスク管理（To Do / In Progress / Done）
  - タスク作成・編集・削除
  - ステータス変更
  - 担当者割り当て
- [ ] 基本的なポイント付与
  - プロジェクト作成（あそと）: 50pt
  - プロジェクト作成（あそび）: 30pt
  - プロジェクト参加: 10pt
  - タスク完了: 10pt

#### 後回し（Phase 2以降）
- ディスカッション機能
- タスク期限管理・通知
- プロジェクト活動記録
- 貢献度ランキング
- ガントチャート表示

### 8. 貢献度ポイント（基本集計）
**優先度: 中**

#### 実装範囲
- [ ] ポイント付与ルール実装
  - イベント参加: 10pt
  - イベント主催: 50pt
  - 内省ログ投稿: 5pt
  - ステップ完了: 10pt
  - 目標達成: 50pt
  - プロジェクト作成: 30-50pt
  - プロジェクト参加: 10pt
  - タスク完了: 10pt
- [ ] ポイント表示
  - 累計ポイント
  - ポイント獲得履歴

#### 後回し（Phase 2以降）
- レベル・バッジシステム
- ランキング表示
- 特典システム

## Phase 2: 拡張機能（3-6ヶ月、〜500ユーザー）

### 1. プロジェクト管理（拡張版）
- [ ] ディスカッション機能
- [ ] タスク期限管理・通知
- [ ] プロジェクト活動記録
- [ ] 貢献度ランキング

### 2. マッチング機能（人×人、基本版）
- [ ] プロフィール情報からマッチングスコア算出
- [ ] おすすめユーザー表示

### 3. AIコーチング（簡易版）
- [ ] ログ投稿時のAIフィードバック
- [ ] 簡単な励ましやアドバイス

### 4. 通知機能（アプリ内のみ）
- [ ] イベントリマインダー
- [ ] ステップ期限通知
- [ ] コメント・メンション通知

## Phase 3: 高度な機能（6ヶ月以降、500ユーザー以上）

- AIコーチング（高度な分析）
- マッチング（人×機会、人×企業）
- プロジェクト管理（高度）
- 外部サービス連携

## データベーステーブル優先度

### Phase 1（MVP）で必要なテーブル

1. **users** ✅ (実装済み)
   - 基本的なユーザー情報

2. **goals**（あそとステップ管理）
   - 目標情報

3. **steps**（あそとステップ管理）
   - ステップ情報

4. **logs**（内省ログ）
   - ログ情報

5. **events**（イベント管理）
   - イベント情報

6. **event_participants**（イベント管理）
   - イベント参加者

7. **projects**（プロジェクト管理）
   - プロジェクト情報

8. **project_members**（プロジェクト管理）
   - プロジェクトメンバー

9. **project_tasks**（プロジェクト管理）
   - プロジェクトタスク

10. **points**（貢献度ポイント）
    - ポイント獲得履歴

11. **user_profiles**（プロフィール拡張）
    - スキル、興味・関心、自己紹介など

### Phase 2で追加するテーブル

12. **project_discussions**（プロジェクトディスカッション）
13. **log_comments**（内省ログコメント）
14. **ai_feedbacks**（AIフィードバック）
15. **matchings**（マッチング）
16. **notifications**（通知）

## API実装優先度

### Phase 1（MVP）で必要なAPI

#### 認証 ✅ (実装済み)
- POST /api/v1/auth/register
- POST /api/v1/auth/login
- GET /api/v1/auth/me

#### あそとステップ管理
- GET /api/v1/goals
- POST /api/v1/goals
- GET /api/v1/goals/:id
- PATCH /api/v1/goals/:id
- DELETE /api/v1/goals/:id
- POST /api/v1/goals/:id/steps
- PATCH /api/v1/steps/:id
- DELETE /api/v1/steps/:id
- POST /api/v1/steps/:id/complete

#### 内省ログ
- GET /api/v1/logs
- POST /api/v1/logs
- GET /api/v1/logs/:id
- PATCH /api/v1/logs/:id
- DELETE /api/v1/logs/:id

#### イベント管理
- GET /api/v1/events
- POST /api/v1/events
- GET /api/v1/events/:id
- PATCH /api/v1/events/:id
- DELETE /api/v1/events/:id
- POST /api/v1/events/:id/join
- DELETE /api/v1/events/:id/leave
- GET /api/v1/events/:id/participants

#### ダッシュボード
- GET /api/v1/dashboard

#### プロフィール
- GET /api/v1/users/:id/profile
- PATCH /api/v1/users/:id/profile

#### プロジェクト管理
- GET /api/v1/projects
- POST /api/v1/projects
- GET /api/v1/projects/:id
- PATCH /api/v1/projects/:id
- DELETE /api/v1/projects/:id
- POST /api/v1/projects/:id/join
- POST /api/v1/projects/:id/members/:memberId/approve
- DELETE /api/v1/projects/:id/members/:memberId
- POST /api/v1/projects/:id/tasks
- PATCH /api/v1/projects/:id/tasks/:taskId
- DELETE /api/v1/projects/:id/tasks/:taskId

#### ポイント
- GET /api/v1/users/:id/points
- GET /api/v1/users/:id/points/history

## フロントエンド実装優先度

### Phase 1（MVP）で必要な画面

1. **認証** ✅ (構造のみ実装済み)
   - ログイン画面
   - 登録画面

2. **ダッシュボード**
   - トップページ（ログイン後）

3. **あそとステップ管理**
   - 目標一覧 (/steps)
   - 目標詳細 (/steps/:id)
   - 目標作成 (/steps/new)
   - 目標編集 (/steps/:id/edit)

4. **内省ログ**
   - ログ一覧 (/logs)
   - ログ詳細 (/logs/:id)
   - ログ作成 (/logs/new)

5. **イベント管理**
   - イベント一覧 (/events)
   - イベント詳細 (/events/:id)
   - イベント作成 (/events/new)

6. **プロジェクト管理**
   - プロジェクト一覧 (/projects)
   - プロジェクト詳細 (/projects/:id)
   - プロジェクト作成 (/projects/new)
   - プロジェクト編集 (/projects/:id/edit)

7. **プロフィール**
   - プロフィール表示 (/users/:id)
   - プロフィール編集 (/settings/profile)

## 実装スケジュール（暫定）

### Week 1-2: データベース設計
- [ ] 全テーブルのSQLAlchemyモデル作成
- [ ] Alembicマイグレーション実行
- [ ] サンプルデータ投入

### Week 3-4: あそとステップ管理
- [ ] バックエンドAPI実装
- [ ] フロントエンド実装

### Week 5-6: 内省ログ
- [ ] バックエンドAPI実装
- [ ] フロントエンド実装

### Week 7-8: イベント管理
- [ ] バックエンドAPI実装
- [ ] フロントエンド実装

### Week 9-10: プロジェクト管理
- [ ] バックエンドAPI実装
- [ ] フロントエンド実装

### Week 11-12: ダッシュボード・プロフィール
- [ ] バックエンドAPI実装
- [ ] フロントエンド実装

### Week 13-14: ポイントシステム・統合テスト
- [ ] ポイント付与ロジック実装
- [ ] 統合テスト
- [ ] バグ修正・調整

## 次のステップ

1. データベーススキーマ全体を実装（Phase 1のテーブルのみ）
2. API仕様書を作成（Swagger/OpenAPI）
3. 実装開始（あそとステップ管理から）
